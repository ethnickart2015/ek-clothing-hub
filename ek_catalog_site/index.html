<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EK Clothing Hub — Catalog</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Merriweather:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <img src="logo.png" alt="EK Clothing Hub logo" class="logo">
      <div class="brand-text">
        <h1>EK Clothing Hub</h1>
        <p class="subtitle">Wholesale & Reseller Clothing — Prepaid Orders</p>
      </div>
    </div>
    <a class="cta" id="whatsapp-btn" href="https://wa.me/91XXXXXXXXXX" target="_blank" rel="noopener">Order on WhatsApp</a>
  </header>

  <main class="container">
    <section class="intro">
      <p>Browse our selected catalog below. Click any product to open WhatsApp with a pre-filled message to order.</p>
    </section>

    <section id="catalog" class="grid">
      <!-- Product cards injected by script -->
    </section>

    <section class="how-to">
      <h2>How to order</h2>
      <ol>
        <li>Note the SKU (e.g. <code>EK-001</code>).</li>
        <li>Click <strong>Order on WhatsApp</strong> on the product card — WhatsApp will open with a pre-filled message.</li>
        <li>We confirm stock & send invoice. Payment via UPI/Bank transfer.</li>
      </ol>
    </section>
  </main>

  <footer class="site-footer">
    <p>&copy; <span id="year"></span> EK Clothing Hub • Fast in Hyderabad & Kolkata • Pan India Shipping</p>
  </footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

const products = [];
// If products.json exists it will be fetched; otherwise, this will fill sample items.
fetch('products.json').then(r => {
  if (r.ok) return r.json();
  throw new Error('no products.json');
}).then(data => {
  loadProducts(data);
}).catch(_ => {
  // fallback sample products
  const sample = [
    { "sku": "EK-001", "name": "Cotton Kurti - Classic", "price": 350, "img": "images/kurti1.jpg", "sizes": "S/M/L", "moq": 1 },
    { "sku": "EK-002", "name": "Rayon Dress - Floral", "price": 420, "img": "images/kurti2.jpg", "sizes": "Free Size", "moq": 1 },
    { "sku": "EK-003", "name": "Silk Blend Top", "price": 625, "img": "images/kurti3.jpg", "sizes": "S/M/L/XL", "moq": 1 }
  ];
  loadProducts(sample);
});

function esc(text){ return String(text).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

function loadProducts(list){
  const wrap = document.getElementById('catalog');
  wrap.innerHTML = '';
  list.forEach(p => {
    const card = document.createElement('article');
    card.className = 'card';
    const img = document.createElement('div');
    img.className = 'card-img';
    const imageElem = document.createElement('img');
    imageElem.alt = esc(p.name);
    imageElem.src = p.img || 'images/placeholder.png';
    img.appendChild(imageElem);

    const bd = document.createElement('div');
    bd.className = 'card-body';
    bd.innerHTML = `<h3>${esc(p.name)}</h3>
                    <p class="sku">${esc(p.sku)}</p>
                    <p class="price">₹${esc(p.price)} <span class="moq">MOQ: ${esc(p.moq)}</span></p>
                    <p class="sizes">Sizes: ${esc(p.sizes || '-')}</p>`;

    const btn = document.createElement('a');
    const text = encodeURIComponent(`Hi EK Hub, I want to order ${p.sku} (${p.name}) Qty: `);
    btn.href = `https://wa.me/91XXXXXXXXXX?text=${text}`;
    btn.target = '_blank';
    btn.rel = 'noopener';
    btn.className = 'btn-order';
    btn.textContent = 'Order on WhatsApp';
    bd.appendChild(btn);

    card.appendChild(img);
    card.appendChild(bd);
    wrap.appendChild(card);
  });
}
</script>
</body>
</html>
